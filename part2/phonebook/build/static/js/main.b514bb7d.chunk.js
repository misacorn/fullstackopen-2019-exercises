(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,n,t){e.exports=t(53)},32:function(e,n,t){},53:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(17),o=t.n(c),u=(t(32),t(23)),i=t(22),l=t(2),m=t(18);function d(){var e=Object(m.a)(["\n  color: ",";\n  background: lightgrey;\n  font-size: 20px;\n  border-style: solid;\n  border-radius: 5px;\n  padding: 10px;\n  margin-bottom: 10px;\n"]);return d=function(){return e},e}var s=t(19).a.div(d(),function(e){return e.hasError?"red":"green"}),f=function(e){var n=e.message,t=e.hasError;return r.a.createElement(s,{hasError:t},r.a.createElement("div",{className:"message"},n))},h=function(e){var n=e.addPerson,t=e.newName,a=e.newNumber,c=e.handleNameChange,o=e.handleNumberChange;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"Name: ",r.a.createElement("input",{value:t,onChange:c})),r.a.createElement("div",null,"Number: ",r.a.createElement("input",{value:a,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add")))},b=function(e){var n=e.rows;return r.a.createElement("ul",null,n)},v=function(e){var n=e.nameSearch,t=e.handleNameSearch;return r.a.createElement("div",null,"Filter shown with ",r.a.createElement("input",{value:n,onChange:t}))},E=t(3),g=t.n(E),w="http://localhost:3001/api/persons",p=function(){return g.a.get(w).then(function(e){return e.data})},j=function(e){return g.a.post(w,e).then(function(e){return e.data})},O=function(e,n){return g.a.put("".concat(w,"/").concat(e),n).then(function(e){return e.data})},N=function(e){return g.a.delete("".concat(w,"/").concat(e)).then(function(e){return e.data})},S=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),m=Object(l.a)(o,2),d=m[0],s=m[1],E=Object(a.useState)(""),g=Object(l.a)(E,2),w=g[0],S=g[1],C=Object(a.useState)(""),k=Object(l.a)(C,2),y=k[0],x=k[1],A=Object(a.useState)(""),D=Object(l.a)(A,2),P=D[0],T=D[1],B=Object(a.useState)(""),F=Object(l.a)(B,2),J=F[0],L=F[1],W=Object(a.useState)(""),z=Object(l.a)(W,2),I=z[0],U=z[1];Object(a.useEffect)(function(){p().then(function(e){c(e)})},[]);var $=t.filter(function(e){return e.name.toLowerCase().includes(y.toLowerCase())}).map(function(e){return r.a.createElement("li",{key:e.id},e.name," - ",e.number,r.a.createElement("button",{onClick:function(){return function(e){if(window.confirm("Delete ".concat(e.name,"?"))){var n=t.filter(function(n){return n.id!==e.id});N(e.id).then(function(){c(n)})}}(e)}},"Delete"))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Phonebook"),P?r.a.createElement(f,{message:P,hasError:I}):J?r.a.createElement(f,{message:J,hasError:I}):null,r.a.createElement(v,{nameSearch:y,handleNameSearch:function(e){return x(e.target.value)}}),r.a.createElement("h3",null,"Add a new person"),r.a.createElement(h,{addPerson:function(e){e.preventDefault();var n=t.filter(function(e){return e.name===d});if(0===n.length){var a={name:d,number:w,id:t.length+1};j(a).then(function(e){c([].concat(Object(i.a)(t),[e])),s(""),S(""),T("Added ".concat(d,"!")),U(!1),setTimeout(function(){T(null)},5e3)})}else if(window.confirm("Update ".concat(n[0].name,"?"))){var r=t.find(function(e){return e.id===n[0].id}),o=Object(u.a)({},r,{number:w});O(o.id,o).then(c(t.map(function(e){return e.id!==o.id?e:o}))).catch(function(e){L("The note '".concat(r.name,"' was already deleted from server.")),U(!0),setTimeout(function(){L(null)},5e3),c(t.filter(function(e){return e.id!==r.id}))})}},newName:d,newNumber:w,handleNameChange:function(e){return s(e.target.value)},handleNumberChange:function(e){return S(e.target.value)}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(b,{rows:$}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.b514bb7d.chunk.js.map